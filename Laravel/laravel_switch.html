<!DOCTYPE html>
<html>

<head>
    <link rel="stylesheet" href="../public/css/default.css">
    <script src="tools/laravel.js"></script>
    <script>
        var current_class = "switch";
    </script>
    <script src="../public/highlight/highlight.pack.js"></script>
    <script>
        hljs.initHighlightingOnLoad();
    </script>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Code Need</title>
    <link href="https://fonts.googleapis.com/css?family=Poppins:400,700" rel="stylesheet">
    <link rel="stylesheet" type="text/css" href="../public/css/styles.css">
    <script src="https://unpkg.com/@lottiefiles/lottie-player@latest/dist/lottie-player.js"></script>
    <link rel="stylesheet" href="https://pro.fontawesome.com/releases/v5.10.0/css/all.css" />
</head>

<body>
    <div class="page-container">
        <header>
            <div class="logo-area">
                <img src="../public/img/logomark.min.svg" alt="logo javascript" />
            </div>
            <div class="course-title">
                <h1>Code Need</h1>
            </div>
        </header>

        <main>
            <h3>Switch</h3>
            <p>In the blade file use the code below</p>
            <xmp>
    <input type="checkbox" class="customControlInput" id="customSwitch3" data-id="{{ $service->id }}"
        data-onstyle="success" data-offstyle="danger" data-toggle="toggle" data-on="Active"
        data-off="InActive" {{ $service->status ? 'checked' : '' }}>
    <label class="custom-control-label" for="customSwitch3">Toggle this</label>
            </xmp>

            <p>Use the code below to send data to server</p>
            <xmp>
    <script>
        $(function () {
            $('.customControlInput').change(function () {
                if (confirm("Do you want to change the status?")) {
                    var status = $(this).prop('checked') == true ? 1 : 0;
                    var id = $(this).data('id');
                    $.ajax({
                        type: "GET",
                        dataType: "json",
                        url: "__LINK__",
                        data: {
                            'status': status,
                            'id': id
                        },
                        success: function (data) {
                            console.log(data.success);
                        }
                    });
                } else {
                    if ($("#single-col-" + $(this).data('id')).prop("checked") == true) {
                        $("#single-col-" + $(this).data('id')).prop('checked', false);
                    } else if ($("#single-col-" + $(this).data('id')).prop("checked") == false) {
                        $("#single-col-" + $(this).data('id')).prop('checked', true);
                    }
                }
            })
        })
    </script>
            </xmp>

            <p>In route file use route like this</p>
            <pre>
                <code>
    Route::get('__LINK__', [ControllerName::class, 'functionName']);
                </code>
            </pre>

            <p>In controller add function</p>
            <pre>
                <code>
    public function functionName(Request $request)
    {
        $obj = ClassName::find($request->id);
        $obj->status = $request->status;
        $obj->save();

        return response()->json(['success' => 'Status change successfully.']);
    }
                </code>
            </pre>

            <div id="bottom-area">
                <div class="prev-next-link">
                    <div class="link-aula" id="prev_class">

                    </div>
                    <div class="link-aula" id="next_class">

                    </div>
                </div>

                <div class="classes">
                    <h3>
                        Contents
                    </h3>
                    <ul id="class_index">
                    </ul>
                </div>

            </div>
        </main>
    </div>

    <script src="../public/js/scripts.js"></script>
    <script src="../public/tools/copy.js"></script>
    <!-- Messenger Chat plugin Code -->
    <div id="fb-root"></div>

    <!-- Your Chat plugin code -->
    <div id="fb-customer-chat" class="fb-customerchat">
    </div>
    <script src="../public/tools/messenger.js"></script>

</body>

</html>